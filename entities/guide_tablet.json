{
	"format_version": "1.16.0",
	"minecraft:entity": {
		"description": {
			"identifier": "hp4_paint:tablet",
			"is_spawnable": true,
			"is_summonable": true,
			"is_experimental": false,
			"animations": {
				"fix_direction": "controller.animation.hp4_paint.fix_direction_tab"
			},
			"scripts": {
				"animate": [
					"fix_direction"
				]
			},
			"properties": {
				"heropixel:close": {
					"client_sync": true,
					"default": false,
					"type": "bool"
				}
			}
		},
		"component_groups": {
			"page_flip_f": {
				"minecraft:addrider": {
					"entity_type": "hp4_paint:flip_tab_cat_f"
				},
				"minecraft:timer": {
					"time": 0.05,
					"looping": false,
					"time_down_event": {
						"event": "page_flip_b",
						"target": "self"
					}
				}
			},
			"page_flip_b": {
				"minecraft:addrider": {
					"entity_type": "hp4_paint:flip_tab_cat_b"
				},
				"minecraft:timer": {
					"time": 0.05,
					"looping": false,
					"time_down_event": {
						"event": "cat_flip_f",
						"target": "self"
					}
				}
			},
			"cat_flip_f": {
				"minecraft:addrider": {
					"entity_type": "hp4_paint:flip_tab_f"
				},
				"minecraft:timer": {
					"time": 0.05,
					"looping": false,
					"time_down_event": {
						"event": "cat_flip_b",
						"target": "self"
					}
				}
			},
			"cat_flip_b": {
				"minecraft:addrider": {
					"entity_type": "hp4_paint:flip_tab_b"
				},
				"minecraft:timer": {
					"time": 0.05,
					"looping": false,
					"time_down_event": {
						"event": "cat_flip_d",
						"target": "self"
					}
				}
			},
			"move_page_f": {
				"minecraft:is_chested": {},
				"minecraft:timer": {
					"time": 0.05,
					"looping": false,
					"time_down_event": {
						"event": "page_moved",
						"target": "self"
					}
				}
			},
			"move_page_b": {
				"minecraft:is_saddled": {},
				"minecraft:timer": {
					"time": 0.05,
					"looping": false,
					"time_down_event": {
						"event": "page_moved",
						"target": "self"
					}
				}
			},
			"move_cat_f": {
				"minecraft:is_sheared": {},
				"minecraft:timer": {
					"time": 0.05,
					"looping": false,
					"time_down_event": {
						"event": "cat_moved",
						"target": "self"
					}
				}
			},
			"move_cat_b": {
				"minecraft:is_stunned": {},
				"minecraft:timer": {
					"time": 0.05,
					"looping": false,
					"time_down_event": {
						"event": "cat_moved",
						"target": "self"
					}
				}
			},
			"despawn": {
				"minecraft:instant_despawn": {
					"remove_child_entities": false
				},
				"minecraft:behavior.sneeze": {
					"priority": 0,
					"loot_table": "loot_tables/heropixels/more_paintings/tablet.json",
					"cooldown_time": 0,
					"probability": 1,
					"prepare_time": 0
				}
			},
			"despawn_components": {
				"minecraft:timer": {
					"time": 0.5,
					"looping": false,
					"time_down_event": {
						"event": "despawn_components",
						"target": "self"
					}
				}
			}
		},
		"components": {
			"minecraft:type_family": {
				"family": [
					"heropixel_tablet"
				]
			},
			"minecraft:collision_box": {
				"height": 0.1,
				"width": 0.1
			},
			"minecraft:custom_hit_test": {
				"hitboxes": [
					{
						"height": 1.3,
						"width": 0.5,
						"pivot": [
							0,
							0.6,
							0
						]
					}
				]
			},
			"minecraft:physics": {
				"has_gravity": false
			},
			"minecraft:pushable": {
				"is_pushable": false
			},
			"minecraft:health": {
				"value": 1,
				"max": 1
			},
			"minecraft:scale": {
				"value": 1.3
			},
			"minecraft:damage_sensor": {
				"triggers": [
					{
						"on_damage": {
							"event": "on_hit"
						},
						"deals_damage": false
					}
				]
			},
			"minecraft:rideable": {
				"family_types": [
					"book_flip"
				],
				"seat_count": 4,
				"seats": [
					{
						"position": [
							-0.5,
							1.4,
							-0.2
						],
						"min_rider_count": 0,
						"lock_rider_rotation": 0
					},
					{
						"position": [
							0.5,
							1.4,
							0
						],
						"min_rider_count": 1,
						"lock_rider_rotation": 0
					},
					{
						"position": [
							-0.7,
							2.7,
							0
						],
						"min_rider_count": 2,
						"lock_rider_rotation": 0
					},
					{
						"position": [
							0.7,
							2.7,
							0
						],
						"min_rider_count": 3,
						"lock_rider_rotation": 0
					}
				]
			}
		},
		"events": {
			"on_hit": {
				"sequence": [
					{
						"queue_command": {
							"command": "playsound hp4_paint:tablet_close @e[type=player,r=10]"
						}
					},
					{
						"add": {
							"component_groups": [
								"despawn_components"
							]
						}
					},
					{
						"set_property": {
							"heropixel:close": true
						}
					}
				]
			},
			"minecraft:entity_spawned": {
				"queue_command": {
					"command": [
						"tp ~ ~0.5 ~",
						"playsound hp4_paint:tablet_start @e[type=player,r=10]"
					]
				},
				"add": {
					"component_groups": [
						"page_flip_f"
					]
				}
			},
			"page_flip_b": {
				"remove": {
					"component_groups": [
						"page_flip_f"
					]
				},
				"add": {
					"component_groups": [
						"page_flip_b"
					]
				}
			},
			"cat_flip_f": {
				"remove": {
					"component_groups": [
						"page_flip_b"
					]
				},
				"add": {
					"component_groups": [
						"cat_flip_f"
					]
				}
			},
			"cat_flip_b": {
				"remove": {
					"component_groups": [
						"cat_flip_f"
					]
				},
				"add": {
					"component_groups": [
						"cat_flip_b"
					]
				}
			},
			"cat_flip_d": {
				"remove": {
					"component_groups": [
						"cat_flip_b"
					]
				}
			},
			"move_page_f": {
				"queue_command": {
					"command": [
						"playsound random.click @a[r=16] ~ ~ ~ 100 0.4"
					],
					"target": "self"
				},
				"add": {
					"component_groups": [
						"move_page_f"
					]
				}
			},
			"move_page_b": {
				"queue_command": {
					"command": [
						"playsound random.click @a[r=16] ~ ~ ~ 100 0.4"
					],
					"target": "self"
				},
				"add": {
					"component_groups": [
						"move_page_b"
					]
				}
			},
			"page_moved": {
				"remove": {
					"component_groups": [
						"move_page_b",
						"move_page_f"
					]
				}
			},
			"move_cat_f": {
				"queue_command": {
					"command": [
						"playsound random.click @a[r=16] ~ ~ ~ 100 0.4"
					],
					"target": "self"
				},
				"add": {
					"component_groups": [
						"move_cat_f"
					]
				}
			},
			"move_cat_b": {
				"queue_command": {
					"command": [
						"playsound random.click @a[r=16] ~ ~ ~ 100 0.4"
					],
					"target": "self"
				},
				"add": {
					"component_groups": [
						"move_cat_b"
					]
				}
			},
			"cat_moved": {
				"remove": {
					"component_groups": [
						"move_cat_b",
						"move_cat_f"
					]
				}
			},
			"despawn_components": {
				"queue_command": {
					"command": [
						"event entity @e[r=3,family=book_flip] despawn"
					]
				},
				"add": {
					"component_groups": [
						"despawn"
					]
				}
			},
			"despawn": {
				"add": {
					"component_groups": [
						"despawn"
					]
				}
			}
		}
	}
}